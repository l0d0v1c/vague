<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a4d8f">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>Respiration Guidée</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1 data-i18n="title">Respiration Guidée</h1>
            <div class="controls">
                <button id="langToggle" class="btn-secondary">EN</button>
            </div>
        </header>

        <div class="mode-selector">
            <button class="mode-btn" data-mode="newbie" data-pattern="2-4-4">
                <span data-i18n="newbie">Débutant</span>
                <small>2-4-4</small>
            </button>
            <button class="mode-btn active" data-mode="medium" data-pattern="3-5-6">
                <span data-i18n="medium">Intermédiaire</span>
                <small>3-5-6</small>
            </button>
            <button class="mode-btn" data-mode="expert" data-pattern="4-7-8">
                <span data-i18n="expert">Expert</span>
                <small>4-7-8</small>
            </button>
        </div>

        <div class="breathing-area">
            <svg viewBox="0 0 400 260" class="triangle-svg" id="triangleSvg">
                <defs>
                    <linearGradient id="triangleGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                        <stop offset="0%" style="stop-color:#2563eb;stop-opacity:0.3" />
                        <stop offset="100%" style="stop-color:#1e40af;stop-opacity:0.5" />
                    </linearGradient>
                </defs>
                
                <g id="triangleGroup">
                    <path id="trianglePathLeft" d="" 
                          fill="none" 
                          stroke="#2563eb" 
                          stroke-width="4"
                          stroke-linecap="round"
                          stroke-linejoin="round"/>
                    <path id="trianglePathTop" d="" 
                          fill="none" 
                          stroke="#2563eb" 
                          stroke-width="4"
                          stroke-linecap="round"
                          stroke-linejoin="round"/>
                    <path id="trianglePathRight" d="" 
                          fill="none" 
                          stroke="#2563eb" 
                          stroke-width="4"
                          stroke-linecap="round"
                          stroke-linejoin="round"/>
                    <path id="triangleFill" d="" 
                          fill="url(#triangleGradient)" 
                          stroke="none"/>
                </g>
                
                <circle id="cursor" cx="150" cy="230" r="8" fill="#60a5fa" opacity="0">
                    <animate attributeName="opacity" values="0;1;1;0" dur="0.5s" begin="indefinite" fill="freeze" id="cursorFadeIn"/>
                </circle>
            </svg>

            <button id="startBtn" class="start-btn">
                <svg width="30" height="30" viewBox="0 0 30 30">
                    <circle cx="15" cy="15" r="14" fill="none" stroke="currentColor" stroke-width="1.5"/>
                    <path id="playIcon" d="M 11 9 L 11 21 L 21 15 Z" fill="currentColor"/>
                    <g id="pauseIcon" style="display: none;">
                        <rect x="10" y="9" width="4" height="12" fill="currentColor"/>
                        <rect x="16" y="9" width="4" height="12" fill="currentColor"/>
                    </g>
                </svg>
            </button>

            <div class="phase-indicator" id="phaseIndicator">
                <span data-i18n="ready">Prêt</span>
            </div>
        </div>

        <div class="stats">
            <div class="stat-item">
                <span data-i18n="cycles">Cycles</span>
                <span id="cycleCount">0</span>
            </div>
            <div class="stat-item">
                <span data-i18n="totalTime">Temps total</span>
                <span id="totalTime">00:00</span>
            </div>
        </div>

        <button id="installBtn" class="install-btn" style="display: none;">
            <span data-i18n="install">Installer l'application</span>
        </button>
    </div>

    <script src="app.js"></script>
</body>
</html>